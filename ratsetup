-- GUI Conversion from Buildfy JSON with Subtle Background Shadow
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CustomGUI"
screenGui.ResetOnSpawn = false
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Helper function to create UI elements
local function createElement(class, props, parent)
    local element = Instance.new(class)
    for k, v in pairs(props) do
        if typeof(v) == "Color3" then
            element[k] = v
        elseif k == "Font" and typeof(v) == "table" then
            element.TextSize = v[2]
        else
            element[k] = v
        end
    end
    element.Parent = parent
    return element
end

-- Convert hex color to Color3
local function hexToColor3(hex)
    hex = hex:gsub("#", "")
    return Color3.fromRGB(
        tonumber("0x"..hex:sub(1,2)),
        tonumber("0x"..hex:sub(3,4)),
        tonumber("0x"..hex:sub(5,6))
    )
end

-- Rounded corners helper
local function addRoundedCorners(parent, radius)
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, radius)
    corner.Parent = parent
end

-- Color definitions
local brightPurple = hexToColor3("#7c35ff")
local darkPurple = hexToColor3("#3c176c")

-- Subtle shadow frame behind main GUI
local shadowFrame = createElement("Frame", {
    Size = UDim2.new(0, 450, 0, 500),
    Position = UDim2.new(0, 276, 0, 84), -- Slightly offset behind main GUI
    BackgroundColor3 = brightPurple,
    BorderSizePixel = 0,
    Name = "ShadowFrame"
}, screenGui)
addRoundedCorners(shadowFrame, 10)

-- Main GUI Frame
local mainFrame = createElement("Frame", {
    Size = UDim2.new(0, 450, 0, 500),
    Position = UDim2.new(0, 272, 0, 80),
    BackgroundColor3 = hexToColor3("#000000"),
    BorderColor3 = brightPurple,
    BorderSizePixel = 2,
    Name = "MainFrame"
}, screenGui)
addRoundedCorners(mainFrame, 8)

-- Top Bar Frame
local topBar = createElement("Frame", {
    Size = UDim2.new(0, 450, 0, 70),
    Position = UDim2.new(0, 274, 0, 80),
    BackgroundColor3 = hexToColor3("#000000"),
    BorderColor3 = brightPurple,
    BorderSizePixel = 2
}, screenGui)
addRoundedCorners(topBar, 8)

-- Title Label
createElement("TextLabel", {
    Text = "Aratare v1",
    Size = UDim2.new(0, 100, 0, 32),
    Position = UDim2.new(0, 429, 0, 98),
    BackgroundTransparency = 1,
    TextColor3 = brightPurple,
    BackgroundColor3 = hexToColor3("#000000"),
    Font = Enum.Font.Legacy,
    TextSize = 26
}, screenGui)

-- Sidebar Buttons
local buttons = {
    {text = "Combat", x = 279, y = 160},
    {text = "Visuals", x = 279, y = 200},
    {text = "Misc", x = 279, y = 240},
}

for _, btn in ipairs(buttons) do
    local button = createElement("TextButton", {
        Text = btn.text,
        Size = UDim2.new(0, 90, 0, 32),
        Position = UDim2.new(0, btn.x, 0, btn.y),
        BackgroundColor3 = hexToColor3("#000000"),
        TextColor3 = darkPurple,
        BorderSizePixel = 0,
        AutoButtonColor = false,
        Font = Enum.Font.Legacy,
        TextSize = 16
    }, screenGui)
    addRoundedCorners(button, 8)

    -- Hover effect
    button.MouseEnter:Connect(function()
        button.BackgroundColor3 = brightPurple
    end)
    button.MouseLeave:Connect(function()
        button.BackgroundColor3 = hexToColor3("#000000")
    end)
end

-- Combat Category Frame
local combatFrame = createElement("Frame", {
    Size = UDim2.new(0, 348, 0, 30),
    Position = UDim2.new(0, 375, 0, 150),
    BackgroundColor3 = hexToColor3("#000000"),
    BorderColor3 = brightPurple,
    BorderSizePixel = 2
}, screenGui)
addRoundedCorners(combatFrame, 8)

-- Combat Label
createElement("TextLabel", {
    Text = "Combat",
    Size = UDim2.new(0, 150, 0, 25),
    Position = UDim2.new(0, 465, 0, 152),
    BackgroundColor3 = hexToColor3("#060606"),
    TextColor3 = brightPurple,
    Font = Enum.Font.Legacy,
    TextSize = 16
}, screenGui)

-- Checkboxes
local checkboxes = {
    {text = "Aimbot", x = 400, y = 200},
    {text = "Silent aim", x = 400, y = 240},
    {text = "FOV", x = 400, y = 280}
}

for _, box in ipairs(checkboxes) do
    local cb = createElement("TextButton", {
        Text = box.text,
        Size = UDim2.new(0, 100, 0, 32),
        Position = UDim2.new(0, box.x, 0, box.y),
        BackgroundColor3 = hexToColor3("#000000"),
        TextColor3 = darkPurple,
        BorderColor3 = brightPurple,
        BorderSizePixel = 1,
        Font = Enum.Font.Legacy,
        TextSize = 14
    }, screenGui)
    addRoundedCorners(cb, 8)

    local toggled = false
    cb.MouseButton1Click:Connect(function()
        toggled = not toggled
        cb.BackgroundColor3 = toggled and brightPurple or hexToColor3("#000000")
    end)

    cb.MouseEnter:Connect(function()
        cb.BackgroundColor3 = brightPurple
    end)
    cb.MouseLeave:Connect(function()
        cb.BackgroundColor3 = toggled and brightPurple or hexToColor3("#000000")
    end)
end
